{"pageProps":{"content":{"compiledSource":"\"use strict\";\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = {\n    a: \"a\",\n    blockquote: \"blockquote\",\n    br: \"br\",\n    code: \"code\",\n    figure: \"figure\",\n    h3: \"h3\",\n    p: \"p\",\n    pre: \"pre\",\n    span: \"span\",\n    strong: \"strong\",\n    ..._provideComponents(),\n    ...props.components\n  };\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.h3, {\n      children: \"문제 상황\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.code, {\n        children: \"removeEventListener()\"\n      }), \"를 호출해도 해당 리스너가 계속 작동되는 문제를 겪었습니다.\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"removeEventListener()를 통한 이벤트 제거\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"일반적으로, 이벤트 리스너를 제거할 때는 \", _jsx(_components.code, {\n        children: \"removeEventListener()\"\n      }), \"를 통해 해당 리스너를 제거합니다.\"]\n    }), \"\\n\", _jsx(_components.figure, {\n      \"data-rehype-pretty-code-figure\": \"\",\n      children: _jsx(_components.pre, {\n        tabIndex: \"0\",\n        \"data-language\": \"js\",\n        \"data-theme\": \"one-dark-pro\",\n        children: _jsxs(_components.code, {\n          \"data-language\": \"js\",\n          \"data-theme\": \"one-dark-pro\",\n          style: {\n            display: \"grid\"\n          },\n          children: [_jsx(_components.span, {\n            \"data-line\": \"\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#7F848E\",\n                fontStyle: \"italic\"\n              },\n              children: \"// EXAMPLE\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            \"data-line\": \"\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#C678DD\"\n              },\n              children: \"function\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61AFEF\"\n              },\n              children: \" eventClick\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#ABB2BF\"\n              },\n              children: \"() {...}\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            \"data-line\": \"\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#E5C07B\"\n              },\n              children: \"element\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#ABB2BF\"\n              },\n              children: \".\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61AFEF\"\n              },\n              children: \"addEventListener\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#ABB2BF\"\n              },\n              children: \"(\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#98C379\"\n              },\n              children: \"'click'\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#ABB2BF\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#E06C75\"\n              },\n              children: \"eventClick\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#ABB2BF\"\n              },\n              children: \"); \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#7F848E\",\n                fontStyle: \"italic\"\n              },\n              children: \"// 이벤트 리스너 생성\"\n            })]\n          }), \"\\n\", _jsx(_components.span, {\n            \"data-line\": \"\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#ABB2BF\"\n              },\n              children: \"...\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            \"data-line\": \"\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#E5C07B\"\n              },\n              children: \"element\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#ABB2BF\"\n              },\n              children: \".\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61AFEF\"\n              },\n              children: \"removeEventListener\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#ABB2BF\"\n              },\n              children: \"(\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#98C379\"\n              },\n              children: \"'click'\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#ABB2BF\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#E06C75\"\n              },\n              children: \"eventClick\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#ABB2BF\"\n              },\n              children: \"); \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#7F848E\",\n                fontStyle: \"italic\"\n              },\n              children: \"// 이벤트 리스너 제거\"\n            })]\n          })]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsxs(_components.p, {\n        children: [\"만약, \", _jsx(_components.strong, {\n          children: \"익명 함수\"\n        }), \"를 콜백 함수로 등록한 경우, 해당 이벤트는 제거할 수 없습니다.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"하지만, 저는 위 방법대로 \", _jsx(_components.code, {\n        children: \"removeEventListener()\"\n      }), \"를 호출했지만 해당 리스너가 제거되지 않는 문제를 겪었습니다.\", _jsx(_components.br, {}), \"\\n\", \"정확한 원인을 파악하진 못했지만, 이벤트 리스너를 확실하게 중단하는 방법을 알아냈습니다.\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"중단 가능한 이벤트 리스너 등록\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.code, {\n        children: \"addEventListener()\"\n      }), \" 사용 시, \", _jsx(_components.code, {\n        children: \"signal\"\n      }), \"옵션에 \", _jsx(_components.code, {\n        children: \"AbortSignal\"\n      }), \"을 등록합니다.\"]\n    }), \"\\n\", _jsx(_components.figure, {\n      \"data-rehype-pretty-code-figure\": \"\",\n      children: _jsx(_components.pre, {\n        tabIndex: \"0\",\n        \"data-language\": \"js\",\n        \"data-theme\": \"one-dark-pro\",\n        children: _jsxs(_components.code, {\n          \"data-language\": \"js\",\n          \"data-theme\": \"one-dark-pro\",\n          style: {\n            display: \"grid\"\n          },\n          children: [_jsx(_components.span, {\n            \"data-line\": \"\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#7F848E\",\n                fontStyle: \"italic\"\n              },\n              children: \"// AbortSignal을 제어하기 위해 AbortController 생성\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            \"data-line\": \"\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#C678DD\"\n              },\n              children: \"const\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#E5C07B\"\n              },\n              children: \" controller\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#56B6C2\"\n              },\n              children: \" =\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#C678DD\"\n              },\n              children: \" new\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61AFEF\"\n              },\n              children: \" AbortController\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#ABB2BF\"\n              },\n              children: \"();\"\n            })]\n          }), \"\\n\", _jsxs(_components.span, {\n            \"data-line\": \"\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#E5C07B\"\n              },\n              children: \"element\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#ABB2BF\"\n              },\n              children: \".\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61AFEF\"\n              },\n              children: \"addEventListener\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#ABB2BF\"\n              },\n              children: \"(\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#98C379\"\n              },\n              children: \"\\\"click\\\"\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#ABB2BF\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#E06C75\"\n              },\n              children: \"eventClick\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#ABB2BF\"\n              },\n              children: \", { \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#E06C75\"\n              },\n              children: \"signal\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#ABB2BF\"\n              },\n              children: \": \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#E5C07B\"\n              },\n              children: \"controller\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#ABB2BF\"\n              },\n              children: \".\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#E06C75\"\n              },\n              children: \"signal\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#ABB2BF\"\n              },\n              children: \" });\"\n            })]\n          })]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.code, {\n        children: \"AbortController\"\n      }), \"의 속성 \", _jsx(_components.code, {\n        children: \"signal\"\n      }), \"이 \", _jsx(_components.code, {\n        children: \"AbortSignal\"\n      }), \"입니다.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"이 때, \", _jsx(_components.code, {\n        children: \"signal.aborted\"\n      }), \"는 \", _jsx(_components.code, {\n        children: \"false\"\n      }), \" 값을 가집니다.\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"AbortController를 통한 이벤트 리스너 중단\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.code, {\n        children: \"abort()\"\n      }), \" 함수만 호출하면, 해당 \", _jsx(_components.code, {\n        children: \"signal\"\n      }), \"에 등록된 리스너가 모두 중단됩니다.\", _jsx(_components.br, {}), \"\\n\", \"(콜백 함수가 익명이어도 \", _jsx(_components.code, {\n        children: \"signal\"\n      }), \"에 등록되었다면 중단됩니다.)\"]\n    }), \"\\n\", _jsx(_components.figure, {\n      \"data-rehype-pretty-code-figure\": \"\",\n      children: _jsx(_components.pre, {\n        tabIndex: \"0\",\n        \"data-language\": \"js\",\n        \"data-theme\": \"one-dark-pro\",\n        children: _jsx(_components.code, {\n          \"data-language\": \"js\",\n          \"data-theme\": \"one-dark-pro\",\n          style: {\n            display: \"grid\"\n          },\n          children: _jsxs(_components.span, {\n            \"data-line\": \"\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#E5C07B\"\n              },\n              children: \"controller\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#ABB2BF\"\n              },\n              children: \".\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61AFEF\"\n              },\n              children: \"abort\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#ABB2BF\"\n              },\n              children: \"();\"\n            })]\n          })\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"이 때, \", _jsx(_components.code, {\n        children: \"signal.aborted\"\n      }), \"는 \", _jsx(_components.code, {\n        children: \"true\"\n      }), \"로 전환됩니다.\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"AbortController 재사용\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"만약, 이 상태에서 새로운 리스너를 등록하면 어떻게 될까요?\"\n    }), \"\\n\", _jsx(_components.figure, {\n      \"data-rehype-pretty-code-figure\": \"\",\n      children: _jsx(_components.pre, {\n        tabIndex: \"0\",\n        \"data-language\": \"js\",\n        \"data-theme\": \"one-dark-pro\",\n        children: _jsxs(_components.code, {\n          \"data-language\": \"js\",\n          \"data-theme\": \"one-dark-pro\",\n          style: {\n            display: \"grid\"\n          },\n          children: [_jsx(_components.span, {\n            \"data-line\": \"\",\n            children: _jsx(_components.span, {\n              style: {\n                color: \"#7F848E\",\n                fontStyle: \"italic\"\n              },\n              children: \"// signal.aborted = true 일 때,\"\n            })\n          }), \"\\n\", _jsxs(_components.span, {\n            \"data-line\": \"\",\n            children: [_jsx(_components.span, {\n              style: {\n                color: \"#E5C07B\"\n              },\n              children: \"element\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#ABB2BF\"\n              },\n              children: \".\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#61AFEF\"\n              },\n              children: \"addEventListener\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#ABB2BF\"\n              },\n              children: \"(\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#98C379\"\n              },\n              children: \"\\\"touch\\\"\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#ABB2BF\"\n              },\n              children: \", \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#E06C75\"\n              },\n              children: \"eventTouch\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#ABB2BF\"\n              },\n              children: \", { \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#E06C75\"\n              },\n              children: \"signal\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#ABB2BF\"\n              },\n              children: \": \"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#E5C07B\"\n              },\n              children: \"controller\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#ABB2BF\"\n              },\n              children: \".\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#E06C75\"\n              },\n              children: \"signal\"\n            }), _jsx(_components.span, {\n              style: {\n                color: \"#ABB2BF\"\n              },\n              children: \" });\"\n            })]\n          })]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"이미 \", _jsx(_components.code, {\n        children: \"aborted\"\n      }), \" 값이 \", _jsx(_components.code, {\n        children: \"true\"\n      }), \"이기 때문에 위 코드에서 등록한 리스너는 작동하지 않습니다.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.code, {\n        children: \"AbortSignal\"\n      }), \"의 속성 \", _jsx(_components.code, {\n        children: \"aborted\"\n      }), \"는 읽기 전용 속성으로, 직접 값을 변경할 수 없으며, 오직 \", _jsx(_components.code, {\n        children: \"AbortController\"\n      }), \"의\", _jsx(_components.code, {\n        children: \"abort()\"\n      }), \" 함수를 통해서만 false -> true로 변경됩니다.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"중단 가능한 이벤트를 다시 생성하려면, 새로운 \", _jsx(_components.code, {\n        children: \"AbortController\"\n      }), \"를 생성해야할 것 같습니다.\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"참조\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.a, {\n        href: \"https://developer.mozilla.org/ko/docs/Web/API/EventTarget/addEventListener\",\n        children: \"https://developer.mozilla.org/ko/docs/Web/API/EventTarget/addEventListener\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.a, {\n        href: \"https://developer.mozilla.org/ko/docs/Web/API/AbortSignal\",\n        children: \"https://developer.mozilla.org/ko/docs/Web/API/AbortSignal\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.a, {\n        href: \"https://developer.mozilla.org/ko/docs/Web/API/AbortController\",\n        children: \"https://developer.mozilla.org/ko/docs/Web/API/AbortController\"\n      })\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = {\n    ..._provideComponents(),\n    ...props.components\n  };\n  return MDXLayout ? _jsx(MDXLayout, {\n    ...props,\n    children: _jsx(_createMdxContent, {\n      ...props\n    })\n  }) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{"title":"[JavaScript] removeEventListener()가 작동하지 않는 경우","description":"AbortSignal로 확실하게 중단할 수 있는 이벤트 리스너를 다룹니다.","author":"Younghyun Kim","authorImg":"https://avatars.githubusercontent.com/u/10252712?v=4","date":"2024-10-11","tag":["JavaScript"]},"scope":{}},"data":{"title":"[JavaScript] removeEventListener()가 작동하지 않는 경우","description":"AbortSignal로 확실하게 중단할 수 있는 이벤트 리스너를 다룹니다.","author":"Younghyun Kim","authorImg":"https://avatars.githubusercontent.com/u/10252712?v=4","date":"2024-10-11","tag":["JavaScript"]}},"__N_SSG":true}